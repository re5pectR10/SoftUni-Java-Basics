import java.awt.Color;
import java.awt.Dimension;
import java.awt.Shape;
import java.awt.geom.Ellipse2D;
import java.awt.geom.Line2D;
import java.awt.geom.Rectangle2D;
import java.io.*;

import org.apache.batik.dom.svg.SVGDOMImplementation;
import org.apache.batik.svggen.SVGGraphics2D;
import org.w3c.dom.DOMImplementation;
import org.w3c.dom.Document;
import org.w3c.dom.Element;

public class _10_HouseSVG {

	public static void main(String[] args) throws IOException {

		/*OutputStream os = new FileOutputStream("d:\\svgimg.html");
		Writer wr = new OutputStreamWriter(os, "utf-8");
		
wr.write("<!DOCTYPE html><html><body><svg height=\"100\" width=\"100\">  <circle cx=\"50\" cy=\"50\" r=\"40\""
		+ " stroke=\"black\" stroke-width=\"3\" fill=\"red\" />  Sorry, your browser does not support inline SVG.  </svg> </body></html>");

*/
		//Document doc = impl.createDocument("d:\\svgimg.html", "html", null);
		//SVGGeneratorContext cnt = SVGGeneratorContext.createDefault(doc);
		//cnt.setEmbeddedFontsOn(true);
		
		
		
//wr.write(String.valueOf(g2d));
	    // Populate the document root with the generated SVG content.
	    //Element root = doc.getDocumentElement();
	    //g2d.getRoot(root);
			DOMImplementation domImpl = SVGDOMImplementation.getDOMImplementation();
			String svgNS = SVGDOMImplementation.SVG_NAMESPACE_URI;
	        Document document = domImpl.createDocument(svgNS, "svg", null);
	        
	        // Create an instance of the SVG Generator
	        SVGGraphics2D g2d = new SVGGraphics2D(document);
	      
	        Shape line = new Rectangle2D.Float(100,100,140,140);
	        Shape line2 = new Line2D.Float(10,10,200,200);
	      
	        Shape circle = new Ellipse2D.Double(0, 0, 50, 50);
				g2d.setPaint(Color.red);
				g2d.fill(circle);
				g2d.translate(60, 0);
				g2d.setPaint(Color.black);
				g2d.fill(circle);
				g2d.translate(60, 0);
				g2d.setPaint(Color.black);
				g2d.fill(circle);
				g2d.draw(line2);
				g2d.setColor(Color.black);
				g2d.draw(line);
				g2d.setColor(Color.white);
				g2d.fill(line);
				g2d.setSVGCanvasSize(new Dimension(1580, 1550));
				
	        Element root = document.getDocumentElement();
	        root.setAttributeNS(null , "width", "800");
	        root.setAttributeNS(null , "style", "display:block;margin:auto");
	        Element e;
	        e = document.createElementNS(svgNS, "rect");
	        e.setAttributeNS(null, "x", "125");
	        e.setAttributeNS(null,  "y", "85");
	        e.setAttributeNS(null, "width",  "50");
	        e.setAttributeNS(null, "height", "50");
	        e.setAttributeNS(null, "style",  "fill:gray;opacity: 0.4;stroke:blue;stroke-width:4");
	        root.appendChild(e);

	        // Write svg file
	        OutputStream outputStream = new FileOutputStream("d:\\house.html");
	        Writer out = new OutputStreamWriter(outputStream, "UTF-8");
	         g2d.stream(root, out, true,false);
	       // g2d.stream(out, true /* use css */);				
	        outputStream.flush();
	        outputStream.close();
	    
	}

}
